# tooey

**Token-efficient UI library designed for LLM output**

Tooey is a declarative UI library optimized for minimal token usage when generated by Large Language Models. It achieves ~75% character reduction compared to React while remaining readable and debuggable.

## Quick Start

```html
<script src="https://unpkg.com/tooey/dist/tooey.js"></script>
<div id="app"></div>
<script>
  tooey.render(document.getElementById('app'), {
    s: {n: 0},
    r: [V,{g:8},[
      [T,{$:"n"}],
      [B,"+",{c:["n","+"]}]
    ]]
  });
</script>
```

## Comparison

| Example | Tooey | React | Reduction |
|---------|-------|-------|-----------|
| Counter | 89 chars | 371 chars | 76% |
| Todo List | 185 chars | 752 chars | 75% |
| Form | 421 chars | 1156 chars | 64% |
| Data Table | 285 chars | 1412 chars | 80% |

## Design Principles

1. **Mnemonic identifiers** - `V` for VStack, `B` for Button (not numeric codes)
2. **Positional arguments** - `[Type, Content, Props]` order is consistent
3. **Short property names** - `g` for gap, `c` for click, `p` for padding
4. **Symbolic operations** - `+` increment, `-` decrement, `!` set, `~` toggle
5. **LLM-debuggable** - Remains readable for modification and troubleshooting

## Component Types

| Code | Component | Description |
|------|-----------|-------------|
| `V` | VStack | Vertical flex container |
| `H` | HStack | Horizontal flex container |
| `D` | Div | Generic container |
| `G` | Grid | CSS Grid container |
| `T` | Text | Span element |
| `B` | Button | Button element |
| `I` | Input | Text input |
| `S` | Select | Dropdown select |
| `C` | Checkbox | Checkbox input |
| `L` | Link | Anchor element |
| `M` | Image | Image element |

## Property Shortcuts

| Prop | Meaning | Example |
|------|---------|---------|
| `g` | gap | `{g:8}` → 8px gap |
| `p` | padding | `{p:16}` → 16px padding |
| `m` | margin | `{m:8}` → 8px margin |
| `w` | width | `{w:200}` → 200px width |
| `h` | height | `{h:100}` → 100px height |
| `c` | click handler | `{c:["n","+"]}` → increment n on click |
| `x` | change handler | `{x:["txt","!"]}` → set txt on change |
| `v` | value binding | `{v:{$:"txt"}}` → bind to txt state |
| `bg` | background | `{bg:"#f00"}` |
| `fg` | color | `{fg:"#fff"}` |
| `r` | border-radius | `{r:8}` → 8px radius |
| `ph` | placeholder | `{ph:"Enter..."}` |
| `t` | input type | `{t:"password"}` |
| `d` | disabled | `{d:true}` |

## State Operations

```javascript
["stateName", "+"]        // increment by 1
["stateName", "+", 5]     // increment by 5
["stateName", "-"]        // decrement by 1
["stateName", "!", val]   // set to value
["stateName", "~"]        // toggle boolean
["stateName", "<", item]  // append to array
["stateName", ">", item]  // prepend to array
["stateName", "X", idx]   // remove from array by index
```

## State References

Use `{$: "stateName"}` to reference state in content:

```javascript
{
  s: {count: 42},
  r: [T, {$: "count"}]  // displays "42"
}
```

## API

### `tooey.render(element, spec)`

Renders a tooey spec into a DOM element.

```javascript
const instance = tooey.render(document.getElementById('app'), {
  s: {n: 0},           // initial state
  r: [V,[...]]         // root component
});
```

Returns an instance with:
- `instance.get(key)` - get current state value
- `instance.set(key, value)` - set state value
- `instance.update(newSpec)` - update with new spec

### `tooey.signal(initialValue)`

Create a reactive signal (for advanced use):

```javascript
const count = tooey.signal(0);
count();        // read: 0
count.set(5);   // write
count.set(n => n + 1);  // update function
count.sub(() => console.log('changed'));  // subscribe
```

### `tooey.effect(fn)`

Run a function that auto-reruns when accessed signals change:

```javascript
const name = tooey.signal('World');
tooey.effect(() => {
  console.log(`Hello, ${name()}`);
});
name.set('Tooey');  // logs "Hello, Tooey"
```

## Examples

See the `/examples` directory for runnable demos:

- `01-counter.html` - Simple counter
- `02-todo-list.html` - Todo list with add/remove
- `03-form.html` - Registration form
- `04-temperature-converter.html` - Bidirectional binding
- `05-data-table.html` - Sortable, filterable table

## Building

```bash
npm install
npm run build
```

## License

MIT
