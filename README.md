# tooey

**token-efficient ui library designed for llm output**

tooey is a declarative ui library optimized for minimal token usage when generated by large language models. it achieves ~75% character reduction compared to react while remaining readable and debuggable.

## quick start

```html
<script src="https://unpkg.com/tooey/dist/tooey.js"></script>
<div id="app"></div>
<script>
  tooey.render(document.getElementById('app'), {
    s: {n: 0},
    r: [V,{g:8},[
      [T,{$:"n"}],
      [B,"+",{c:["n","+"]}]
    ]]
  });
</script>
```

## comparison

| example | tooey | react | reduction |
|---------|-------|-------|-----------|
| counter | 89 chars | 371 chars | 76% |
| todo list | 185 chars | 752 chars | 75% |
| form | 421 chars | 1156 chars | 64% |
| data table | 285 chars | 1412 chars | 80% |

## design principles

1. **mnemonic identifiers** - `V` for vstack, `B` for button (not numeric codes)
2. **positional arguments** - `[type, content, props]` order is consistent
3. **short property names** - `g` for gap, `c` for click, `p` for padding
4. **symbolic operations** - `+` increment, `-` decrement, `!` set, `~` toggle
5. **llm-debuggable** - remains readable for modification and troubleshooting

## component types

| code | component | description |
|------|-----------|-------------|
| `V` | vstack | vertical flex container |
| `H` | hstack | horizontal flex container |
| `D` | div | generic container |
| `G` | grid | css grid container |
| `T` | text | span element |
| `B` | button | button element |
| `I` | input | text input |
| `S` | select | dropdown select |
| `C` | checkbox | checkbox input |
| `L` | link | anchor element |
| `M` | image | image element |

## property shortcuts

| prop | meaning | example |
|------|---------|---------|
| `g` | gap | `{g:8}` → 8px gap |
| `p` | padding | `{p:16}` → 16px padding |
| `m` | margin | `{m:8}` → 8px margin |
| `w` | width | `{w:200}` → 200px width |
| `h` | height | `{h:100}` → 100px height |
| `c` | click handler | `{c:["n","+"]}` → increment n on click |
| `x` | change handler | `{x:["txt","!"]}` → set txt on change |
| `v` | value binding | `{v:{$:"txt"}}` → bind to txt state |
| `bg` | background | `{bg:"#f00"}` |
| `fg` | color | `{fg:"#fff"}` |
| `r` | border-radius | `{r:8}` → 8px radius |
| `ph` | placeholder | `{ph:"enter..."}` |
| `t` | input type | `{t:"password"}` |
| `d` | disabled | `{d:true}` |

## state operations

```javascript
["stateName", "+"]        // increment by 1
["stateName", "+", 5]     // increment by 5
["stateName", "-"]        // decrement by 1
["stateName", "!", val]   // set to value
["stateName", "~"]        // toggle boolean
["stateName", "<", item]  // append to array
["stateName", ">", item]  // prepend to array
["stateName", "X", idx]   // remove from array by index
```

## state references

use `{$: "stateName"}` to reference state in content:

```javascript
{
  s: {count: 42},
  r: [T, {$: "count"}]  // displays "42"
}
```

## api

### `tooey.render(element, spec)`

renders a tooey spec into a dom element.

```javascript
const instance = tooey.render(document.getElementById('app'), {
  s: {n: 0},           // initial state
  r: [V,[...]]         // root component
});
```

returns an instance with:
- `instance.get(key)` - get current state value
- `instance.set(key, value)` - set state value
- `instance.update(newSpec)` - update with new spec

### `tooey.signal(initialValue)`

create a reactive signal (for advanced use):

```javascript
const count = tooey.signal(0);
count();        // read: 0
count.set(5);   // write
count.set(n => n + 1);  // update function
count.sub(() => console.log('changed'));  // subscribe
```

### `tooey.effect(fn)`

run a function that auto-reruns when accessed signals change:

```javascript
const name = tooey.signal('world');
tooey.effect(() => {
  console.log(`hello, ${name()}`);
});
name.set('tooey');  // logs "hello, tooey"
```

## examples

see the `/examples` directory for runnable demos:

- `01-counter.html` - simple counter
- `02-todo-list.html` - todo list with add/remove
- `03-form.html` - registration form
- `04-temperature-converter.html` - bidirectional binding
- `05-data-table.html` - sortable, filterable table

## building

```bash
npm install
npm run build
```

## license

mit
