<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>modal - tooey</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: ui-monospace, monospace; background: #0a0a0f; color: #888; padding: 24px; }
    @media (min-width: 600px) { body { padding: 48px; } }
    a { color: #0af; text-decoration: none; }
    h1 { font-size: 14px; font-weight: 400; color: #fff; margin-bottom: 4px; }
    .tag { font-size: 12px; margin-bottom: 32px; }
    .grid { display: grid; grid-template-columns: 1fr; gap: 24px; margin-bottom: 32px; }
    @media (min-width: 700px) { .grid { grid-template-columns: 1fr 1fr; gap: 32px; } }
    .col h2 { font-size: 11px; font-weight: 400; color: #666; margin-bottom: 8px; }
    pre { font-size: 10px; background: #111; padding: 12px; overflow-x: auto; margin-bottom: 16px; border-radius: 4px; white-space: pre-wrap; word-break: break-word; }
    .tooey pre { color: #4f8; }
    .react pre { color: #f97; }
    .demo { background: #111; padding: 16px; border-radius: 4px; max-width: 400px; position: relative; min-height: 150px; }
    .demo button { font-family: inherit; font-size: 13px; background: #222; color: #fff; border: 1px solid #333; padding: 8px 16px; cursor: pointer; border-radius: 4px; }
    .demo button:hover { background: #333; }
    .overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); display: flex; align-items: center; justify-content: center; border-radius: 4px; }
    .modal-box { background: #1a1a1a; padding: 24px; border-radius: 8px; text-align: center; }
    .modal-box h3 { color: #fff; font-size: 14px; font-weight: 400; margin-bottom: 8px; }
    .modal-box p { color: #888; font-size: 12px; margin-bottom: 16px; }
    .back { font-size: 12px; margin-bottom: 24px; display: block; }
  </style>
</head>
<body>
  <a href="index.html" class="back">&larr; back</a>
  <h1>modal</h1>
  <p class="tag">-24% fewer tokens vs React</p>

  <div class="grid">
    <div class="col tooey">
      <h2>tooey (135 tokens)</h2>
      <pre>{s:{open:false},r:[V,[
  [B,"open modal",{c:["open","~"]}],
  {if:"open",then:[D,[
    [D,[[T,"confirm action",{fw:600}],[T,"are you sure?"],[B,"close",{c:["open","~"]}]],{bg:"#1a1a1a",p:24,r:8,g:12}]
  ],{pos:"abs",t:0,l:0,w:"100%",h:"100%",bg:"rgba(0,0,0,0.7)",ai:"center",jc:"center"}]}
]]}</pre>
      <div class="demo" id="tooey-app"></div>
    </div>
    <div class="col react">
      <h2>react (178 tokens)</h2>
      <pre style="color:#f97;">function Modal() {
  const [open, setOpen] = useState(false);
  return (
    &lt;div&gt;
      &lt;button onClick={()=&gt;setOpen(true)}&gt;open modal&lt;/button&gt;
      {open && (
        &lt;div style={{position:'absolute',top:0,left:0,width:'100%',
          height:'100%',background:'rgba(0,0,0,0.7)',
          display:'flex',alignItems:'center',justifyContent:'center'}}&gt;
          &lt;div style={{background:'#1a1a1a',padding:24,borderRadius:8}}&gt;
            &lt;h3 style={{fontWeight:600}}&gt;confirm action&lt;/h3&gt;
            &lt;p&gt;are you sure?&lt;/p&gt;
            &lt;button onClick={()=&gt;setOpen(false)}&gt;close&lt;/button&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      )}
    &lt;/div&gt;
  );
}</pre>
      <div class="demo" id="react-app"></div>
    </div>
  </div>

  <script src="../dist/tooey.js"></script>
  <script>
    // tooey demo
    const{render,V,H,D,T,B}=tooey;
    render(document.getElementById('tooey-app'),{
      s:{open:false},
      r:[V,[
        [B,"open modal",{c:["open","~"]}],
        {if:"open",then:[D,[
          [D,[
            [T,"confirm action",{fw:600,fg:"#fff",fs:14}],
            [T,"are you sure?",{fg:"#888",fs:12}],
            [B,"close",{c:["open","~"]}]
          ],{bg:"#1a1a1a",p:24,r:8,g:12,ta:"center",s:{display:'flex',flexDirection:'column',alignItems:'center'}}]
        ],{pos:"abs",t:0,l:0,w:"100%",h:"100%",bg:"rgba(0,0,0,0.7)",s:{display:'flex',alignItems:'center',justifyContent:'center'}}]}
      ]]
    });

    // react-style demo (vanilla JS)
    (function() {
      const el = document.getElementById('react-app');
      let open = false;

      function render() {
        el.innerHTML = '';

        const btn = document.createElement('button');
        btn.textContent = 'open modal';
        btn.onclick = () => { open = true; render(); };
        el.appendChild(btn);

        if (open) {
          const overlay = document.createElement('div');
          overlay.className = 'overlay';

          const box = document.createElement('div');
          box.className = 'modal-box';

          const h3 = document.createElement('h3');
          h3.textContent = 'confirm action';
          box.appendChild(h3);

          const p = document.createElement('p');
          p.textContent = 'are you sure?';
          box.appendChild(p);

          const closeBtn = document.createElement('button');
          closeBtn.textContent = 'close';
          closeBtn.onclick = () => { open = false; render(); };
          box.appendChild(closeBtn);

          overlay.appendChild(box);
          el.appendChild(overlay);
        }
      }
      render();
    })();
  </script>
</body>
</html>
