<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>todo - tooey</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: ui-monospace, monospace; background: #0a0a0f; color: #888; padding: 48px; }
    a { color: #0af; text-decoration: none; }
    h1 { font-size: 12px; font-weight: 400; color: #fff; margin-bottom: 4px; }
    .tag { font-size: 11px; margin-bottom: 32px; }
    pre { font-size: 11px; color: #4f8; background: #111; padding: 12px; overflow-x: auto; margin-bottom: 16px; }
    .demo { background: #111; padding: 16px; }
    .demo input { font-family: inherit; font-size: 12px; background: #0a0a0f; color: #fff; border: 1px solid #333; padding: 6px 10px; flex: 1; }
    .demo button { font-family: inherit; font-size: 12px; background: #222; color: #fff; border: 1px solid #333; padding: 6px 12px; cursor: pointer; }
    .demo button:hover { background: #333; }
    .item { display: flex; gap: 8px; padding: 6px 0; border-bottom: 1px solid #1a1a1a; }
    .item span { flex: 1; color: #ccc; }
    .item button { background: transparent; border: none; color: #666; padding: 2px 6px; }
    .item button:hover { color: #f55; }
    .back { font-size: 11px; margin-bottom: 24px; display: block; }
  </style>
</head>
<body>
  <a href="index.html" class="back">&larr; back</a>
  <h1>todo list</h1>
  <p class="tag">-75% vs react</p>

  <pre>{s:{txt:"",items:[]},r:[V,{g:8},[[H,{g:8},[[I,"",{v:{$:"txt"},x:["txt","!"],ph:"add..."}],[B,"+",{c:()=>{...}}]]],{map:"items",as:[H,{g:8},[[T,"$item"],[B,"x",{c:["items","X","$index"]}]]]}]]}</pre>

  <div class="demo" id="app"></div>

  <script src="../dist/tooey.js"></script>
  <script>
    const{render,signal,V,H,T,B,I}=tooey;
    const txt=signal(''),items=signal([]);
    const app=document.getElementById('app');

    function draw(){
      app.innerHTML='';
      const row=document.createElement('div');
      row.style.cssText='display:flex;gap:8px;margin-bottom:12px';
      const inp=document.createElement('input');
      inp.placeholder='add...';
      inp.value=txt();
      inp.oninput=e=>txt.set(e.target.value);
      inp.onkeydown=e=>{if(e.key==='Enter'&&txt()){items.set([...items(),txt()]);txt.set('')}};
      const btn=document.createElement('button');
      btn.textContent='+';
      btn.onclick=()=>{if(txt()){items.set([...items(),txt()]);txt.set('')}};
      row.append(inp,btn);
      app.appendChild(row);
      items().forEach((item,i)=>{
        const r=document.createElement('div');
        r.className='item';
        const s=document.createElement('span');
        s.textContent=item;
        const d=document.createElement('button');
        d.textContent='Ã—';
        d.onclick=()=>items.set(items().filter((_,j)=>j!==i));
        r.append(s,d);
        app.appendChild(r);
      });
    }
    txt.sub(draw);items.sub(draw);draw();
  </script>
</body>
</html>
