<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>wizard - tooey</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: ui-monospace, monospace; background: #0a0a0f; color: #888; padding: 24px; }
    @media (min-width: 600px) { body { padding: 48px; } }
    a { color: #0af; text-decoration: none; }
    h1 { font-size: 14px; font-weight: 400; color: #fff; margin-bottom: 4px; }
    .tag { font-size: 12px; margin-bottom: 32px; }
    .grid { display: grid; grid-template-columns: 1fr; gap: 24px; margin-bottom: 32px; }
    @media (min-width: 900px) { .grid { grid-template-columns: 1fr 1fr; gap: 32px; } }
    .col h2 { font-size: 11px; font-weight: 400; color: #666; margin-bottom: 8px; }
    pre { font-size: 10px; background: #111; padding: 12px; overflow-x: auto; margin-bottom: 16px; border-radius: 4px; white-space: pre-wrap; word-break: break-word; }
    .tooey pre { color: #4f8; }
    .react pre { color: #f97; }
    .demo { background: #111; padding: 16px; border-radius: 4px; max-width: 350px; }
    .demo button { font-family: inherit; font-size: 13px; background: #222; color: #fff; border: 1px solid #333; padding: 8px 16px; cursor: pointer; border-radius: 4px; }
    .demo button:hover { background: #333; }
    .demo button.primary { background: #0af; border-color: #0af; color: #000; }
    .demo button.primary:hover { background: #08c; }
    .demo input { font-family: inherit; font-size: 13px; background: #0a0a0f; color: #fff; border: 1px solid #333; padding: 8px 12px; border-radius: 4px; width: 100%; }
    .progress { display: flex; gap: 4px; margin-bottom: 16px; }
    .progress .step { flex: 1; height: 4px; background: #333; border-radius: 2px; }
    .progress .step.done { background: #0af; }
    .step-content { margin-bottom: 16px; }
    .step-content h3 { color: #fff; font-size: 13px; font-weight: 500; margin-bottom: 12px; }
    .step-content p { color: #888; font-size: 12px; margin-bottom: 12px; }
    .nav-buttons { display: flex; gap: 8px; justify-content: flex-end; }
    .back { font-size: 12px; margin-bottom: 24px; display: block; }
  </style>
</head>
<body>
  <a href="index.html" class="back">&larr; back</a>
  <h1>wizard</h1>
  <p class="tag">-26% fewer tokens vs React</p>

  <div class="grid">
    <div class="col tooey">
      <h2>tooey (249 tokens)</h2>
      <pre>{s:{step:0,name:"",email:""},r:[V,[
  [H,[[D,{cls:"step done"}],[D,{cls:"step"}],[D,{cls:"step"}]],{g:4}],
  {if:{$:"step"},eq:0,then:[V,[[T,"step 1: name"],[I,"",{v:{$:"name"},x:["name","!"],ph:"your name"}]],{g:12}]},
  {if:{$:"step"},eq:1,then:[V,[[T,"step 2: email"],[I,"",{v:{$:"email"},x:["email","!"],ph:"email",type:"email"}]],{g:12}]},
  {if:{$:"step"},eq:2,then:[V,[[T,"done!"],[T,"thanks for signing up"]],{g:12}]},
  [H,[[B,"back",{c:["step","-"],dis:{$:"step"},eq:0}],[B,"next",{c:["step","+"]}]],{g:8,jc:"flex-end"}]
],{g:16}]}</pre>
      <div class="demo" id="tooey-app"></div>
    </div>
    <div class="col react">
      <h2>react (338 tokens)</h2>
      <pre style="color:#f97;">function Wizard() {
  const [step, setStep] = useState(0);
  const [name, setName] = useState('');
  const [email, setEmail] = useState('');
  return (
    &lt;div style={{display:'flex',flexDirection:'column',gap:16}}&gt;
      &lt;div style={{display:'flex',gap:4}}&gt;
        {[0,1,2].map(i =&gt; (
          &lt;div key={i} className={'step'+(i&lt;=step?' done':'')} /&gt;
        ))}
      &lt;/div&gt;
      {step === 0 && (
        &lt;div&gt;
          &lt;h3&gt;step 1: name&lt;/h3&gt;
          &lt;input value={name} onChange={e=&gt;setName(e.target.value)}
            placeholder="your name" /&gt;
        &lt;/div&gt;
      )}
      {step === 1 && (
        &lt;div&gt;
          &lt;h3&gt;step 2: email&lt;/h3&gt;
          &lt;input type="email" value={email}
            onChange={e=&gt;setEmail(e.target.value)} placeholder="email" /&gt;
        &lt;/div&gt;
      )}
      {step === 2 && &lt;div&gt;&lt;h3&gt;done!&lt;/h3&gt;&lt;p&gt;thanks for signing up&lt;/p&gt;&lt;/div&gt;}
      &lt;div style={{display:'flex',gap:8,justifyContent:'flex-end'}}&gt;
        &lt;button disabled={step===0} onClick={()=&gt;setStep(s=&gt;s-1)}&gt;back&lt;/button&gt;
        &lt;button onClick={()=&gt;setStep(s=&gt;Math.min(2,s+1))}&gt;next&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}</pre>
      <div class="demo" id="react-app"></div>
    </div>
  </div>

  <script src="../dist/tooey.js"></script>
  <script>
    // tooey demo
    const{signal}=tooey;
    const step = signal(0);
    const name = signal('');
    const email = signal('');

    function renderTooey() {
      const el = document.getElementById('tooey-app');
      el.innerHTML = '';
      const wrap = document.createElement('div');
      wrap.style.cssText = 'display:flex;flex-direction:column;gap:16px';

      // Progress bar
      const progress = document.createElement('div');
      progress.className = 'progress';
      for (let i = 0; i < 3; i++) {
        const s = document.createElement('div');
        s.className = 'step' + (i <= step() ? ' done' : '');
        progress.appendChild(s);
      }
      wrap.appendChild(progress);

      // Content
      const content = document.createElement('div');
      content.className = 'step-content';

      if (step() === 0) {
        const h3 = document.createElement('h3');
        h3.textContent = 'step 1: name';
        content.appendChild(h3);
        const input = document.createElement('input');
        input.placeholder = 'your name';
        input.value = name();
        input.addEventListener('input', e => name.set(e.target.value));
        content.appendChild(input);
      } else if (step() === 1) {
        const h3 = document.createElement('h3');
        h3.textContent = 'step 2: email';
        content.appendChild(h3);
        const input = document.createElement('input');
        input.type = 'email';
        input.placeholder = 'email';
        input.value = email();
        input.addEventListener('input', e => email.set(e.target.value));
        content.appendChild(input);
      } else {
        const h3 = document.createElement('h3');
        h3.textContent = 'done!';
        content.appendChild(h3);
        const p = document.createElement('p');
        p.textContent = 'thanks for signing up';
        content.appendChild(p);
      }
      wrap.appendChild(content);

      // Buttons
      const nav = document.createElement('div');
      nav.className = 'nav-buttons';
      const back = document.createElement('button');
      back.textContent = 'back';
      back.disabled = step() === 0;
      back.onclick = () => step.set(Math.max(0, step() - 1));
      nav.appendChild(back);
      const next = document.createElement('button');
      next.textContent = step() === 2 ? 'restart' : 'next';
      next.className = 'primary';
      next.onclick = () => step.set(step() === 2 ? 0 : step() + 1);
      nav.appendChild(next);
      wrap.appendChild(nav);

      el.appendChild(wrap);
    }
    step.sub(renderTooey);
    renderTooey();

    // react-style demo (vanilla JS)
    (function() {
      const el = document.getElementById('react-app');
      let stepVal = 0, nameVal = '', emailVal = '';

      function render() {
        el.innerHTML = '';
        const wrap = document.createElement('div');
        wrap.style.cssText = 'display:flex;flex-direction:column;gap:16px';

        const progress = document.createElement('div');
        progress.className = 'progress';
        for (let i = 0; i < 3; i++) {
          const s = document.createElement('div');
          s.className = 'step' + (i <= stepVal ? ' done' : '');
          progress.appendChild(s);
        }
        wrap.appendChild(progress);

        const content = document.createElement('div');
        content.className = 'step-content';

        if (stepVal === 0) {
          const h3 = document.createElement('h3');
          h3.textContent = 'step 1: name';
          content.appendChild(h3);
          const input = document.createElement('input');
          input.placeholder = 'your name';
          input.value = nameVal;
          input.addEventListener('input', e => { nameVal = e.target.value; });
          content.appendChild(input);
        } else if (stepVal === 1) {
          const h3 = document.createElement('h3');
          h3.textContent = 'step 2: email';
          content.appendChild(h3);
          const input = document.createElement('input');
          input.type = 'email';
          input.placeholder = 'email';
          input.value = emailVal;
          input.addEventListener('input', e => { emailVal = e.target.value; });
          content.appendChild(input);
        } else {
          const h3 = document.createElement('h3');
          h3.textContent = 'done!';
          content.appendChild(h3);
          const p = document.createElement('p');
          p.textContent = 'thanks for signing up';
          content.appendChild(p);
        }
        wrap.appendChild(content);

        const nav = document.createElement('div');
        nav.className = 'nav-buttons';
        const back = document.createElement('button');
        back.textContent = 'back';
        back.disabled = stepVal === 0;
        back.onclick = () => { stepVal = Math.max(0, stepVal - 1); render(); };
        nav.appendChild(back);
        const next = document.createElement('button');
        next.textContent = stepVal === 2 ? 'restart' : 'next';
        next.className = 'primary';
        next.onclick = () => { stepVal = stepVal === 2 ? 0 : stepVal + 1; render(); };
        nav.appendChild(next);
        wrap.appendChild(nav);

        el.appendChild(wrap);
      }
      render();
    })();
  </script>
</body>
</html>
